<div class="filter">
  <h3>Categorii</h3>


  <div *ngIf="loading">Se încarcă...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <ul class="tree" *ngIf="!loading && !error">
    <li *ngFor="let cat of rootCategories">
      <!-- categorie de top -->
      <a [routerLink]="['/products']"
         [queryParams]="{ categoryId: cat.id }"
         routerLinkActive="active"
         [routerLinkActiveOptions]="{ exact: false }">
        {{ cat.name }}
      </a>

      <!-- subcategorii -->
      <ul *ngIf="getChildren(cat.id).length">
        <li *ngFor="let child of getChildren(cat.id)">
          <a [routerLink]="['/products']"
             [queryParams]="{ categoryId: child.id }"
             routerLinkActive="active"
             [routerLinkActiveOptions]="{ exact: false }">
            {{ child.name }}
          </a>
        </li>
      </ul>
    </li>
  </ul>

  <!-- clear filter -->
  <p class="clear">
    <a [routerLink]="['/products']">Șterge filtrul</a>
  </p>
</div>
